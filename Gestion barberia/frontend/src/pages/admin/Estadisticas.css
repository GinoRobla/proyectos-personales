/* frontend/src/pages/admin/Estadisticas.css */

.admin-stats-page {
  padding: var(--spacing-xl) 0;
  background: var(--bg-light);
  min-height: calc(100vh - 60px); /* Ajustar a altura del Navbar */
}

.admin-stats-page .container {
  max-width: 1400px;
  margin: 0 auto;
  width: 100%;
}

/* Header */
.stats-header {
  margin-bottom: var(--spacing-xl);
}

.stats-title {
  font-size: 1.75rem;
  font-weight: 700;
  color: var(--text-dark);
  margin-bottom: var(--spacing-sm);
}

.stats-subtitle {
  color: var(--text-gray);
  margin-bottom: var(--spacing-lg);
  font-size: 0.9rem;
}

.periodo-selector {
  display: flex;
  gap: var(--spacing-sm);
  align-items: center;
  flex-wrap: wrap; /* Para móvil */
}

.periodo-selector label {
  color: var(--text-dark);
  font-weight: 500;
  font-size: 0.9rem;
}

.periodo-selector select,
.periodo-selector input[type="number"] {
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-md);
  border: 1px solid #ced4da;
  font-size: 0.9rem;
  background: white;
  color: var(--text-dark);
  cursor: pointer;
}

.periodo-selector input[type="number"] {
  width: 100px; /* Ancho fijo para el año */
}

/* Indicadores Principales */
.indicadores-section {
  margin-bottom: var(--spacing-xl);
}

.indicadores-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-gray);
  margin-bottom: var(--spacing-md);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.indicadores-grid {
  display: grid;
  gap: var(--spacing-lg);
  /* Responsive: ajusta columnas automáticamente */
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 250px), 1fr));
}

.indicador-card {
  background: white;
  padding: var(--spacing-lg);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  border: 1px solid #e9ecef;
}

.indicador-label {
  font-size: 0.75rem;
  color: var(--text-gray);
  text-transform: uppercase;
  font-weight: 600;
  margin-bottom: var(--spacing-sm);
}

.indicador-valor {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: var(--spacing-xs);
  line-height: 1.2;
}

.indicador-valor.ingresos { color: var(--success); }
.indicador-valor.turnos { color: var(--text-dark); }
.indicador-valor.clientes { color: var(--info); }
.indicador-valor.nombre { font-size: 1.25rem; color: var(--text-dark); } /* Para nombres */

.indicador-detalle {
  font-size: 0.875rem;
  color: var(--text-gray);
}

/* Secciones Adicionales (Comparativa, Días, Desglose) */
.stats-section {
  margin-bottom: var(--spacing-xl);
}

.section-title-alt {
  font-size: 1rem; /* Igual que indicadores-title */
  font-weight: 600;
  color: var(--text-gray);
  margin-bottom: var(--spacing-md);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.comparativa-grid,
.dias-grid {
  display: grid;
  gap: var(--spacing-lg);
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 250px), 1fr));
}

.comparativa-card,
.dia-card {
  background: white;
  padding: var(--spacing-lg);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  border: 1px solid #e9ecef;
}

/* Estilos específicos para comparativa */
.variacion-valor {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: var(--spacing-xs);
}
.variacion-valor.positiva { color: var(--success); }
.variacion-valor.negativa { color: var(--error); }

/* Estilos específicos para días */
.dia-nombre {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: var(--spacing-xs);
}

/* Desglose Detallado */
.desglose-grid {
  display: grid;
  gap: var(--spacing-lg);
  /* Ajusta según el número de columnas deseadas */
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 350px), 1fr));
}

.desglose-card {
  background: white;
  padding: var(--spacing-lg);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  border: 1px solid #e9ecef;
  /* Permitir scroll interno si el contenido es muy largo */
  max-height: 500px;
  overflow-y: auto;
}

.desglose-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: var(--spacing-lg);
}

/* Barbero Item */
.barbero-item {
  margin-bottom: var(--spacing-lg);
}
.barbero-item:last-child {
  margin-bottom: 0;
}

.barbero-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: var(--spacing-sm);
}
.barbero-nombre { font-weight: 600; color: var(--text-dark); }
.barbero-ingresos { color: var(--success); font-weight: 700; }

.barbero-progreso {
  background: #e9ecef;
  border-radius: var(--radius-sm);
  height: 8px;
  overflow: hidden;
}
.barbero-progreso-barra {
  background: var(--success);
  height: 100%;
  transition: width 0.3s ease;
}
.barbero-turnos {
  font-size: 0.8125rem;
  color: var(--text-gray);
  margin-top: var(--spacing-xs);
}

/* Servicio Item */
.servicio-item, .cliente-item {
  padding: var(--spacing-md);
  background: #f8f9fa;
  border-radius: var(--radius-md);
  border: 1px solid #e9ecef;
  margin-bottom: var(--spacing-md);
}
.servicio-item:last-child, .cliente-item:last-child {
  margin-bottom: 0;
}

.servicio-header, .cliente-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-sm);
}

.servicio-nombre, .cliente-nombre {
  font-weight: 600;
  color: var(--text-dark);
}

.servicio-cantidad, .cliente-visitas {
  background: var(--info);
  color: white;
  padding: 0.25rem 0.625rem;
  border-radius: var(--radius-sm);
  font-size: 0.8125rem;
  font-weight: 600;
}
.cliente-visitas { background: var(--success); }

.servicio-stats, .cliente-stats {
  display: flex;
  justify-content: space-between;
  font-size: 0.8125rem;
  color: var(--text-gray);
}

/* Empty State Small - para secciones sin datos */
.empty-state-small {
  text-align: center;
  padding: var(--spacing-xl);
  background: #f8f9fa;
  border-radius: var(--radius-md);
  border: 2px dashed #dee2e6;
}

.empty-state-small p {
  color: var(--text-gray);
  font-size: 0.9rem;
  margin: 0;
}

/* Estados de carga y error */
.stats-loading, .stats-error {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 400px;
  padding: var(--spacing-xl);
}
.stats-loading p { color: var(--text-gray); font-size: 1.125rem; }
.stats-error div {
  padding: var(--spacing-lg);
  background: #fff3cd;
  border: 1px solid #ffc107;
  border-radius: var(--radius-lg);
  color: #856404;
}

/* Ajustes responsivos generales */
@media (min-width: 768px) {
  .stats-title { font-size: 2rem; }
  .indicador-valor { font-size: 2.25rem; }
  .variacion-valor { font-size: 2.25rem; }
  .dia-nombre { font-size: 1.75rem; }
}

@media (min-width: 1024px) {
  .desglose-grid {
    /* Por ejemplo, forzar 2 o 3 columnas en pantallas más grandes */
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1440px) {
  .desglose-grid {
    grid-template-columns: repeat(3, 1fr); /* 3 columnas en pantallas muy grandes */
  }
}